{"ast":null,"code":"var _jsxFileName = \"/home/otokon/Code/movie-suggestion-client/src/components/Comment/Comments.jsx\";\nimport axios from \"axios\";\nimport React, { Component } from \"react\";\nimport { Card } from \"react-bootstrap\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport SubComments from \"./SubComments.jsx\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.REACT_APP_API_URL;\nexport default class Comments extends Component {\n  constructor(props) {\n    super(props);\n    this._isMounted = false;\n\n    this.componentWillUnmount = () => {\n      this._isMounted = false;\n    };\n\n    this.componentDidMount = async () => {\n      this._isMounted = true;\n      await axios.get(`${API_URL}api/Comments/getbymovieid?id=${this.state.movieId}`).then(res => {\n        this.setState({\n          comments: res.data\n        });\n      }).catch(err => console.log(err));\n    };\n\n    this.state = {\n      comments: [],\n      movieId: this.props.movieid\n    };\n  }\n\n  render() {\n    let commentArray = this.state.comments;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: commentArray.map(comment => {\n        if (comment.subCommentOf === 0) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              className: \"m-2\",\n              children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n                children: comment.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 44,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: comment.text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 46,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 45,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(SubComments, {\n                commentId: comment.id,\n                movieId: this.state.movieId\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 17\n            }, this)\n          }, uuidv4(), false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 15\n          }, this);\n        }\n\n        return /*#__PURE__*/_jsxDEV(\"div\", {}, uuidv4(), false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 18\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/otokon/Code/movie-suggestion-client/src/components/Comment/Comments.jsx"],"names":["axios","React","Component","Card","v4","uuidv4","SubComments","API_URL","process","env","REACT_APP_API_URL","Comments","constructor","props","_isMounted","componentWillUnmount","componentDidMount","get","state","movieId","then","res","setState","comments","data","catch","err","console","log","movieid","render","commentArray","map","comment","subCommentOf","username","text","id"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,iBAArB;AACA,SAASC,EAAE,IAAIC,MAAf,QAA6B,MAA7B;AACA,OAAOC,WAAP,MAAwB,mBAAxB;;AAEA,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,iBAA5B;AAEA,eAAe,MAAMC,QAAN,SAAuBT,SAAvB,CAAiC;AAG9CU,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AADiB,SAFnBC,UAEmB,GAFN,KAEM;;AAAA,SASnBC,oBATmB,GASI,MAAM;AAC3B,WAAKD,UAAL,GAAkB,KAAlB;AACD,KAXkB;;AAAA,SAYnBE,iBAZmB,GAYC,YAAY;AAC9B,WAAKF,UAAL,GAAkB,IAAlB;AACA,YAAMd,KAAK,CACRiB,GADG,CACE,GAAEV,OAAQ,gCAA+B,KAAKW,KAAL,CAAWC,OAAQ,EAD9D,EAEHC,IAFG,CAEGC,GAAD,IAAS;AACb,aAAKC,QAAL,CAAc;AACZC,UAAAA,QAAQ,EAAEF,GAAG,CAACG;AADF,SAAd;AAGD,OANG,EAOHC,KAPG,CAOIC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAPZ,CAAN;AAQD,KAtBkB;;AAGjB,SAAKR,KAAL,GAAa;AACXK,MAAAA,QAAQ,EAAE,EADC;AAEXJ,MAAAA,OAAO,EAAE,KAAKN,KAAL,CAAWgB;AAFT,KAAb;AAID;;AAgBDC,EAAAA,MAAM,GAAG;AACP,QAAIC,YAAY,GAAG,KAAKb,KAAL,CAAWK,QAA9B;AACA,wBACE;AAAA,gBACGQ,YAAY,CAACC,GAAb,CAAkBC,OAAD,IAAa;AAC7B,YAAIA,OAAO,CAACC,YAAR,KAAyB,CAA7B,EAAgC;AAC9B,8BACE;AAAA,mCACE,QAAC,IAAD;AAAM,cAAA,SAAS,EAAC,KAAhB;AAAA,sCACE,QAAC,IAAD,CAAM,MAAN;AAAA,0BAAcD,OAAO,CAACE;AAAtB;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE,QAAC,IAAD,CAAM,IAAN;AAAA,uCACE;AAAA,4BAAIF,OAAO,CAACG;AAAZ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAFF,eAKE,QAAC,WAAD;AACE,gBAAA,SAAS,EAAEH,OAAO,CAACI,EADrB;AAEE,gBAAA,OAAO,EAAE,KAAKnB,KAAL,CAAWC;AAFtB;AAAA;AAAA;AAAA;AAAA,sBALF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,aAAUd,MAAM,EAAhB;AAAA;AAAA;AAAA;AAAA,kBADF;AAcD;;AACD,4BAAO,mBAAUA,MAAM,EAAhB;AAAA;AAAA;AAAA;AAAA,gBAAP;AACD,OAlBA;AADH;AAAA;AAAA;AAAA;AAAA,YADF;AAuBD;;AAnD6C","sourcesContent":["import axios from \"axios\";\nimport React, { Component } from \"react\";\nimport { Card } from \"react-bootstrap\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport SubComments from \"./SubComments.jsx\";\n\nconst API_URL = process.env.REACT_APP_API_URL;\n\nexport default class Comments extends Component {\n  _isMounted = false;\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      comments: [],\n      movieId: this.props.movieid,\n    };\n  }\n\n  componentWillUnmount = () => {\n    this._isMounted = false;\n  };\n  componentDidMount = async () => {\n    this._isMounted = true;\n    await axios\n      .get(`${API_URL}api/Comments/getbymovieid?id=${this.state.movieId}`)\n      .then((res) => {\n        this.setState({\n          comments: res.data,\n        });\n      })\n      .catch((err) => console.log(err));\n  };\n  render() {\n    let commentArray = this.state.comments;\n    return (\n      <div>\n        {commentArray.map((comment) => {\n          if (comment.subCommentOf === 0) {\n            return (\n              <div key={uuidv4()}>\n                <Card className=\"m-2\">\n                  <Card.Header>{comment.username}</Card.Header>\n                  <Card.Body>\n                    <p>{comment.text}</p>\n                  </Card.Body>\n                  <SubComments\n                    commentId={comment.id}\n                    movieId={this.state.movieId}\n                  />\n                </Card>\n              </div>\n            );\n          }\n          return <div key={uuidv4()}></div>;\n        })}\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}